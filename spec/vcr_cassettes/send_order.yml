---
http_interactions:
- request:
    method: get
    uri: https://spree%40spreecommerce.com:123@spree.vendhq.com/api/registers
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Content-Type:
      - application/json
      Accept:
      - application/json
  response:
    status:
      code: 200
      message: OK
    headers:
      Server:
      - nginx
      Date:
      - Fri, 18 Jul 2014 11:59:44 GMT
      Content-Type:
      - application/json; charset=UTF-8
      Transfer-Encoding:
      - chunked
      Connection:
      - keep-alive
      Vary:
      - Accept-Encoding
      Expires:
      - Sun, 12 Oct 1986 08:52:00 GMT
      Pragma:
      - no-cache
      Cache-Control:
      - no-store, no-cache, must-revalidate, post-check=0, pre-check=0, private
      Strict-Transport-Security:
      - max-age=31; includeSubDomains
      Set-Cookie:
      - vend=HGiVJtxI0FgAdgnigSOVQI0S9rW:4jMQHDDdUKGaE7Jg24ESASpU2VB; expires=Fri,
        25-Jul-2014 11:59:44 GMT; path=/; domain=vendhq.com; secure; httponly
      X-Hue:
      - flame
    body:
      encoding: UTF-8
      string: |-
        {
            "registers"    :   [        {
                "id":      "32aed862-08f5-11e4-a0f5-b8ca3a64f8f4",
                "name":             "Main Register",
                "outlet_id":      "32ad8894-08f5-11e4-a0f5-b8ca3a64f8f4",
                "button_layout_id": "",
                "print_receipt" : "1",
                "email_receipt" : "1",
                "ask_for_note_on_save"  : "1",
                "print_note_on_receipt"  : "0",
                "ask_for_user_on_sale"  : "0",
                "show_discounts_on_receipt" : "1",
                        "receipt_header":   "<h1>Reinaldo Sports<h1>",
                        "receipt_barcoded"  : "1",
                "receipt_footer":   "<h1>Thanks for stopping by<h1>",
                "receipt_style_class":   "has-receipt-80",
                "invoice_prefix":   "",
                "invoice_suffix":   "",
                "invoice_sequence":   1,
                "register_open_count_sequence":   "2",
                "register_open_time":   "2014-02-03 17:29:15",
                "register_close_time":   "",
                "quick_keys_template":  {"quick_keys":{"groups":[{"name":"Default","position":0,"pages":[{"page":1,"keys":[{"position":0,"label":"T-shirt (Demo)","sku":"tshirt-white","product_id":"32a5858e-08f5-11e4-a0f5-b8ca3a64f8f4","color":"white","parent":false},{"position":1,"label":"Coffee (Demo)","sku":"coffee-hot","product_id":"32a98839-08f5-11e4-a0f5-b8ca3a64f8f4","color":"white","parent":false}]}]}]}},
                "receipt" : {
                    "fields" : {
                        "label_invoice" : "Invoice #:","label_invoice_title" : "Receipt \/ Tax Invoice","label_served_by" : "Served by:","label_line_discount" : "Less discount ","label_sub_total" : "Subtotal","label_tax" : "Tax","label_to_pay" : "TO PAY","label_total" : "TOTAL","label_change" : "Change",                    "header" : "<h1>Reinaldo Sports<h1>",
                                        "footer" :     "<h1>Thanks for stopping by<h1>"            }
                }
        }
        ,                {
                "id":      "1f46d8a5-0d4d-11e4-a0f5-b8ca3a64f8f4",
                "name":             "NewRegister",
                "outlet_id":      "32ad8894-08f5-11e4-a0f5-b8ca3a64f8f4",
                "button_layout_id": "",
                "print_receipt" : "1",
                "email_receipt" : "0",
                "ask_for_note_on_save"  : "1",
                "print_note_on_receipt"  : "0",
                "ask_for_user_on_sale"  : "0",
                "show_discounts_on_receipt" : "1",
                        "receipt_header":   "<h1>Reinaldo Sports<h1>",
                        "receipt_barcoded"  : "1",
                "receipt_footer":   "<h1>Thanks for stopping by<h1>",
                "receipt_style_class":   "has-receipt-80",
                "invoice_prefix":   "",
                "invoice_suffix":   "",
                "invoice_sequence":   2,
                "register_open_count_sequence":   "2",
                "register_open_time":   "2014-02-03 17:29:15",
                "register_close_time":   "",
                "quick_keys_template":  {"quick_keys":{"groups":[{"name":"Default","position":0,"pages":[{"page":1,"keys":[{"position":0,"label":"T-shirt (Demo)","sku":"tshirt-white","product_id":"32a5858e-08f5-11e4-a0f5-b8ca3a64f8f4","color":"white","parent":false},{"position":1,"label":"Coffee (Demo)","sku":"coffee-hot","product_id":"32a98839-08f5-11e4-a0f5-b8ca3a64f8f4","color":"white","parent":false}]}]}]}},
                "receipt" : {
                    "fields" : {
                        "label_invoice" : "Invoice #:","label_invoice_title" : "Receipt \/ Tax Invoice","label_served_by" : "Served by:","label_line_discount" : "Less discount ","label_sub_total" : "Subtotal","label_tax" : "Tax","label_to_pay" : "TO PAY","label_total" : "TOTAL","label_change" : "Change",                    "header" : "<h1>Reinaldo Sports<h1>",
                                        "footer" :     "<h1>Thanks for stopping by<h1>"            }
                }
        }
                ]
        }
    http_version:
  recorded_at: Fri, 18 Jul 2014 11:59:44 GMT
- request:
    method: get
    uri: https://spree%40spreecommerce.com:123@spree.vendhq.com/api/customers?email=spree@example.com
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Content-Type:
      - application/json
      Accept:
      - application/json
  response:
    status:
      code: 200
      message: OK
    headers:
      Server:
      - nginx
      Date:
      - Fri, 18 Jul 2014 11:59:45 GMT
      Content-Type:
      - application/json; charset=UTF-8
      Transfer-Encoding:
      - chunked
      Connection:
      - keep-alive
      Vary:
      - Accept-Encoding
      Expires:
      - Sun, 12 Oct 1986 08:52:00 GMT
      Pragma:
      - no-cache
      Cache-Control:
      - no-store, no-cache, must-revalidate, post-check=0, pre-check=0, private
      Strict-Transport-Security:
      - max-age=31; includeSubDomains
      Set-Cookie:
      - vend=IGpUW4Ddw0z3zvCK3ksfc2N3ohN:GYqRPnXnq3kewuPNSHlH3B0QvcW; expires=Fri,
        25-Jul-2014 11:59:45 GMT; path=/; domain=vendhq.com; secure; httponly
      X-Hue:
      - maroon
    body:
      encoding: UTF-8
      string: |-
        {
                "customers"    :   [        {
                "id":               "83e746fb-0b90-11e4-a0f5-b8ca3a64f8f4",
                "name":             "Spree Commerce",
                "customer_code":    "Spree-5WS8",
                "customer_group_id":         "32965c4b-08f5-11e4-a0f5-b8ca3a64f8f4",
                "customer_group_name":       "All Customers",
                "first_name":             "Spree",
                "last_name":              "Commerce",
                "company_name":           "",
                "phone":                  "",
                "mobile":                 "",
                "fax":                    "",
                "email":                  "spree@example.com",
                "twitter":                "",
                "website" :               "",
                "physical_address1":      "",
                "physical_address2":      "",
                "physical_suburb":        "",
                "physical_city":          "",
                "physical_postcode":      "",
                "physical_state":         "",
                "physical_country_id":    "BR",
                "postal_address1":        "",
                "postal_address2":        "",
                "postal_suburb":          "",
                "postal_city":            "",
                "postal_postcode":        "",
                "postal_state":           "",
                "postal_country_id" :     "BR",        "updated_at":               "2014-07-14 19:53:24",
                "deleted_at":               "",
                "balance":                  "0.000",
                "year_to_date":             "0.00000",
                "date_of_birth":            "",
                "sex":                      "",
                "custom_field_1":           "",
                "custom_field_2":           "",
                "custom_field_3":           "",
                "custom_field_4":           "",
                "contact":  {
                    "company_name":     "",
                    "phone":            "",
                    "email":            "spree@example.com"
                    }
                },                {
                "id":               "590a793c-0d2b-11e4-a0f5-b8ca3a64f8f4",
                "name":             "Brian Smith",
                "customer_code":    "Brian-92TS",
                "customer_group_id":         "32965c4b-08f5-11e4-a0f5-b8ca3a64f8f4",
                "customer_group_name":       "All Customers",
                "first_name":             "Brian",
                "last_name":              "Smith",
                "company_name":           "",
                "phone":                  "0000000000",
                "mobile":                 "",
                "fax":                    "",
                "email":                  "spree@example.com",
                "twitter":                "",
                "website" :               "",
                "physical_address1":      "1234 Awesome Street",
                "physical_address2":      "",
                "physical_suburb":        "",
                "physical_city":          "Hollywood",
                "physical_postcode":      "90210",
                "physical_state":         "California",
                "physical_country_id":    "US",
                "postal_address1":        "1234 Awesome Street",
                "postal_address2":        "",
                "postal_suburb":          "",
                "postal_city":            "Hollywood",
                "postal_postcode":        "90210",
                "postal_state":           "California",
                "postal_country_id" :     "US",        "updated_at":               "2014-07-16 20:54:15",
                "deleted_at":               "",
                "balance":                  "0.000",
                "year_to_date":             "0.00000",
                "date_of_birth":            "",
                "sex":                      "",
                "custom_field_1":           "",
                "custom_field_2":           "",
                "custom_field_3":           "",
                "custom_field_4":           "",
                "contact":  {
                    "company_name":     "",
                    "phone":            "0000000000",
                    "email":            "spree@example.com"
                    }
                },                {
                "id":               "4fde4018-0d43-11e4-a0f5-b8ca3a64f8f4",
                "name":             "Brian XX Smith",
                "customer_code":    "Brian XX-J6E3",
                "customer_group_id":         "32965c4b-08f5-11e4-a0f5-b8ca3a64f8f4",
                "customer_group_name":       "All Customers",
                "first_name":             "Brian XX",
                "last_name":              "Smith",
                "company_name":           "",
                "phone":                  "0000000000",
                "mobile":                 "",
                "fax":                    "",
                "email":                  "spree@example.com",
                "twitter":                "",
                "website" :               "",
                "physical_address1":      "1234 Awesome Street",
                "physical_address2":      "",
                "physical_suburb":        "",
                "physical_city":          "Hollywood",
                "physical_postcode":      "90210",
                "physical_state":         "California",
                "physical_country_id":    "US",
                "postal_address1":        "1234 Awesome Street",
                "postal_address2":        "",
                "postal_suburb":          "",
                "postal_city":            "Hollywood",
                "postal_postcode":        "90210",
                "postal_state":           "California",
                "postal_country_id" :     "US",        "updated_at":               "2014-07-16 23:45:48",
                "deleted_at":               "",
                "balance":                  "0.000",
                "year_to_date":             "0.00000",
                "date_of_birth":            "",
                "sex":                      "",
                "custom_field_1":           "",
                "custom_field_2":           "",
                "custom_field_3":           "",
                "custom_field_4":           "",
                "contact":  {
                    "company_name":     "",
                    "phone":            "0000000000",
                    "email":            "spree@example.com"
                    }
                },                {
                "id":               "f4c91ecf-0d58-11e4-a0f5-b8ca3a64f8f4",
                "name":             "Brian XX Smith",
                "customer_code":    "Brian XX-9E98",
                "customer_group_id":         "32965c4b-08f5-11e4-a0f5-b8ca3a64f8f4",
                "customer_group_name":       "All Customers",
                "first_name":             "Brian XX",
                "last_name":              "Smith",
                "company_name":           "",
                "phone":                  "0000000000",
                "mobile":                 "",
                "fax":                    "",
                "email":                  "spree@example.com",
                "twitter":                "",
                "website" :               "",
                "physical_address1":      "1234 Awesome Street",
                "physical_address2":      "",
                "physical_suburb":        "",
                "physical_city":          "Hollywood",
                "physical_postcode":      "90210",
                "physical_state":         "California",
                "physical_country_id":    "US",
                "postal_address1":        "1234 Awesome Street",
                "postal_address2":        "",
                "postal_suburb":          "",
                "postal_city":            "Hollywood",
                "postal_postcode":        "90210",
                "postal_state":           "California",
                "postal_country_id" :     "US",        "updated_at":               "2014-07-17 02:20:44",
                "deleted_at":               "",
                "balance":                  "0.000",
                "year_to_date":             "0.00000",
                "date_of_birth":            "",
                "sex":                      "",
                "custom_field_1":           "",
                "custom_field_2":           "",
                "custom_field_3":           "",
                "custom_field_4":           "",
                "contact":  {
                    "company_name":     "",
                    "phone":            "0000000000",
                    "email":            "spree@example.com"
                    }
                },                {
                "id":               "268dc03c-0d59-11e4-a0f5-b8ca3a64f8f4",
                "name":             "Brian XX Smith",
                "customer_code":    "Brian XX-A6M8",
                "customer_group_id":         "32965c4b-08f5-11e4-a0f5-b8ca3a64f8f4",
                "customer_group_name":       "All Customers",
                "first_name":             "Brian XX",
                "last_name":              "Smith",
                "company_name":           "",
                "phone":                  "0000000000",
                "mobile":                 "",
                "fax":                    "",
                "email":                  "spree@example.com",
                "twitter":                "",
                "website" :               "",
                "physical_address1":      "1234 Awesome Street",
                "physical_address2":      "",
                "physical_suburb":        "",
                "physical_city":          "Hollywood",
                "physical_postcode":      "90210",
                "physical_state":         "California",
                "physical_country_id":    "US",
                "postal_address1":        "1234 Awesome Street",
                "postal_address2":        "",
                "postal_suburb":          "",
                "postal_city":            "Hollywood",
                "postal_postcode":        "90210",
                "postal_state":           "California",
                "postal_country_id" :     "US",        "updated_at":               "2014-07-17 02:22:07",
                "deleted_at":               "",
                "balance":                  "0.000",
                "year_to_date":             "0.00000",
                "date_of_birth":            "",
                "sex":                      "",
                "custom_field_1":           "",
                "custom_field_2":           "",
                "custom_field_3":           "",
                "custom_field_4":           "",
                "contact":  {
                    "company_name":     "",
                    "phone":            "0000000000",
                    "email":            "spree@example.com"
                    }
                },                {
                "id":               "b8ca3a64-f8a8-11e4-e0f5-0da4d1799e22",
                "name":             "Brian XX Smith",
                "customer_code":    "Brian XX-XWW2",
                "customer_group_id":         "32965c4b-08f5-11e4-a0f5-b8ca3a64f8f4",
                "customer_group_name":       "All Customers",
                "first_name":             "Brian XX",
                "last_name":              "Smith",
                "company_name":           "",
                "phone":                  "0000000000",
                "mobile":                 "",
                "fax":                    "",
                "email":                  "spree@example.com",
                "twitter":                "",
                "website" :               "",
                "physical_address1":      "1234 Awesome Street",
                "physical_address2":      "",
                "physical_suburb":        "",
                "physical_city":          "Hollywood",
                "physical_postcode":      "90210",
                "physical_state":         "California",
                "physical_country_id":    "US",
                "postal_address1":        "1234 Awesome Street",
                "postal_address2":        "",
                "postal_suburb":          "",
                "postal_city":            "Hollywood",
                "postal_postcode":        "90210",
                "postal_state":           "California",
                "postal_country_id" :     "US",        "updated_at":               "2014-07-17 11:23:46",
                "deleted_at":               "",
                "balance":                  "0.000",
                "year_to_date":             "0.00000",
                "date_of_birth":            "",
                "sex":                      "",
                "custom_field_1":           "",
                "custom_field_2":           "",
                "custom_field_3":           "",
                "custom_field_4":           "",
                "contact":  {
                    "company_name":     "",
                    "phone":            "0000000000",
                    "email":            "spree@example.com"
                    }
                },                {
                "id":               "b8ca3a64-f8a8-11e4-e0f5-0de19588a414",
                "name":             "Brian XX Smith",
                "customer_code":    "Brian XX-56LK",
                "customer_group_id":         "32965c4b-08f5-11e4-a0f5-b8ca3a64f8f4",
                "customer_group_name":       "All Customers",
                "first_name":             "Brian XX",
                "last_name":              "Smith",
                "company_name":           "",
                "phone":                  "0000000000",
                "mobile":                 "",
                "fax":                    "",
                "email":                  "spree@example.com",
                "twitter":                "",
                "website" :               "",
                "physical_address1":      "1234 Awesome Street",
                "physical_address2":      "",
                "physical_suburb":        "",
                "physical_city":          "Hollywood",
                "physical_postcode":      "90210",
                "physical_state":         "California",
                "physical_country_id":    "US",
                "postal_address1":        "1234 Awesome Street",
                "postal_address2":        "",
                "postal_suburb":          "",
                "postal_city":            "Hollywood",
                "postal_postcode":        "90210",
                "postal_state":           "California",
                "postal_country_id" :     "US",        "updated_at":               "2014-07-17 18:38:45",
                "deleted_at":               "",
                "balance":                  "0.000",
                "year_to_date":             "0.00000",
                "date_of_birth":            "",
                "sex":                      "",
                "custom_field_1":           "",
                "custom_field_2":           "",
                "custom_field_3":           "",
                "custom_field_4":           "",
                "contact":  {
                    "company_name":     "",
                    "phone":            "0000000000",
                    "email":            "spree@example.com"
                    }
                }        ]
        }
    http_version:
  recorded_at: Fri, 18 Jul 2014 11:59:45 GMT
- request:
    method: get
    uri: https://spree%40spreecommerce.com:123@spree.vendhq.com/api/payment_types
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Content-Type:
      - application/json
      Accept:
      - application/json
  response:
    status:
      code: 200
      message: OK
    headers:
      Server:
      - nginx
      Date:
      - Fri, 18 Jul 2014 11:59:46 GMT
      Content-Type:
      - application/json; charset=UTF-8
      Transfer-Encoding:
      - chunked
      Connection:
      - keep-alive
      Vary:
      - Accept-Encoding
      Expires:
      - Sun, 12 Oct 1986 08:52:00 GMT
      Pragma:
      - no-cache
      Cache-Control:
      - no-store, no-cache, must-revalidate, post-check=0, pre-check=0, private
      Strict-Transport-Security:
      - max-age=31; includeSubDomains
      Set-Cookie:
      - vend=RDO3DqiHHT0IPwbRjCruMLpTq46:PvGSOXSWR4ccQUbxp2VlQf1EEzT; expires=Fri,
        25-Jul-2014 11:59:46 GMT; path=/; domain=vendhq.com; secure; httponly
      X-Hue:
      - amaranth
    body:
      encoding: UTF-8
      string: '{"payment_types":[{"id":"32af7a43-08f5-11e4-a0f5-b8ca3a64f8f4","name":"Cash","payment_type_id":"1","config":{},"payment_type":{"nativeapp":false}},{"id":"6530dbf7-0b73-11e4-a0f5-b8ca3a64f8f4","name":"Credit
        Card","payment_type_id":"3","config":{},"payment_type":{"nativeapp":false}},{"id":"32afadff-08f5-11e4-a0f5-b8ca3a64f8f4","name":"Credit
        CardX","payment_type_id":"3","config":{"url":"","print":true},"payment_type":{"nativeapp":false}}]}'
    http_version:
  recorded_at: Fri, 18 Jul 2014 11:59:46 GMT
- request:
    method: post
    uri: https://spree%40spreecommerce.com:123@spree.vendhq.com/api/register_sales
    body:
      encoding: UTF-8
      string: '{"register_id":null,"customer_id":"83e746fb-0b90-11e4-a0f5-b8ca3a64f8f4","sale_date":"2013-07-30T19
        =>19 =>05Z","total_price":99.95,"total_tax":5.0,"tax_name":null,"status":"complete","invoice_number":null,"note":null,"register_sale_products":[{"product_id":"","quantity":1,"price":22.99,"attributes":[{"name":"line_note","value":null}]},{"product_id":"","quantity":1,"price":22.99,"attributes":[{"name":"line_note","value":null}]}],"register_sale_payments":[{"retailer_payment_type_id":null,"payment_date":"2013-07-30T19
        =>19 =>05Z","amount":5.0}]}'
    headers:
      Content-Type:
      - application/json
      Accept:
      - application/json
  response:
    status:
      code: 400
      message: Bad Request
    headers:
      Server:
      - nginx
      Date:
      - Fri, 18 Jul 2014 11:59:47 GMT
      Content-Type:
      - application/json; charset=UTF-8
      Transfer-Encoding:
      - chunked
      Connection:
      - keep-alive
      Expires:
      - Sun, 12 Oct 1986 08:52:00 GMT
      Pragma:
      - no-cache
      Cache-Control:
      - no-store, no-cache, must-revalidate, post-check=0, pre-check=0, private
      Strict-Transport-Security:
      - max-age=31; includeSubDomains
      Set-Cookie:
      - vend=6hOZcvBFlu5RrZtPb72bY1kzwnu:Hn8TB7xNuifehy8mjVaLR1MF3vU; expires=Fri,
        25-Jul-2014 11:59:47 GMT; path=/; domain=vendhq.com; secure; httponly
    body:
      encoding: UTF-8
      string: "{\n\t\"status\"       :   \"error\",\n\t\"error\"        :   \"Dependancy
        problem\",\n\t\"details\"      :   \"SQLSTATE[23000]: Integrity constraint
        violation: 1452 Cannot add or update a child row: a foreign key constraint
        fails (`vend`.`vend_product`, CONSTRAINT `__vend_product_retailer_id_vend_retailer_id`
        FOREIGN KEY (`retailer_id`) REFERENCES `vend_retailer` (`id`))\"\n}"
    http_version:
  recorded_at: Fri, 18 Jul 2014 11:59:47 GMT
recorded_with: VCR 2.6.0
